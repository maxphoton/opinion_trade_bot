# –¢–µ—Å—Ç—ã –¥–ª—è trade_bot

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

## –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
pytest

# –ó–∞–ø—É—Å–∫ —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –≤—ã–≤–æ–¥–æ–º
pytest -v

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
pytest tests/test_sync_orders.py

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞
pytest tests/test_sync_orders.py::TestProcessAccountOrders

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞
pytest tests/test_sync_orders.py::TestProcessAccountOrders::test_reposition_sufficient_change

# –ó–∞–ø—É—Å–∫ —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º –∫–æ–¥–∞ (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω pytest-cov)
pytest --cov=bot/opinion/sync_orders --cov-report=html
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤

### test_sync_orders.py

–¢–µ—Å—Ç—ã –¥–ª—è –º–æ–¥—É–ª—è `bot/opinion/sync_orders.py`, –ø–æ–∫—Ä—ã–≤–∞—é—â–∏–µ:

#### 1. **TestCalculateNewTargetPrice** - —Ç–µ—Å—Ç—ã —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞—Å—á–µ—Ç–∞ —Ü–µ–ª–µ–≤–æ–π —Ü–µ–Ω—ã
- –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã —Ä–∞—Å—á–µ—Ç–∞ –¥–ª—è BUY –∏ SELL –æ—Ä–¥–µ—Ä–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π —Ü–µ–Ω—ã (0.001)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Ü–µ–Ω—ã (0.999)
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ä–∞—Å—á–µ—Ç–∞ —Å —Ä–∞–∑–Ω—ã–º–∏ offset_ticks

#### 2. **TestProcessAccountOrders** - —Ç–µ—Å—Ç—ã —Ñ—É–Ω–∫—Ü–∏–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—Ä–¥–µ—Ä–æ–≤ –∞–∫–∫–∞—É–Ω—Ç–∞
- **test_no_orders** - —É –∞–∫–∫–∞—É–Ω—Ç–∞ –Ω–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –æ—Ä–¥–µ—Ä–æ–≤
- **test_reposition_sufficient_change** - –∏–∑–º–µ–Ω–µ–Ω–∏–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫–∏ –æ—Ä–¥–µ—Ä–∞
- **test_reposition_insufficient_change** - –∏–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫–∏
- **test_order_status_finished** - –æ—Ä–¥–µ—Ä —Å—Ç–∞–ª finished, –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ë–î –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
- **test_order_status_canceled** - –æ—Ä–¥–µ—Ä —Å—Ç–∞–ª canceled, –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ë–î –±–µ–∑ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- **test_order_status_check_timeout** - —Ç–∞–π–º–∞—É—Ç –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ —Å—Ç–∞—Ç—É—Å–∞, –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º –æ–±—Ä–∞–±–æ—Ç–∫—É
- **test_no_price_change** - —Ü–µ–Ω–∞ –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å, –æ—Ä–¥–µ—Ä –Ω–µ –ø–µ—Ä–µ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è
- **test_multiple_orders_mixed** - –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ—Ä–¥–µ—Ä–æ–≤, —á–∞—Å—Ç—å –ø–µ—Ä–µ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è, —á–∞—Å—Ç—å –Ω–µ—Ç
- **test_notification_only_when_repositioning** - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –æ—Ä–¥–µ—Ä –±—É–¥–µ—Ç –ø–µ—Ä–µ—Å—Ç–∞–≤–ª–µ–Ω
- **test_notification_contains_key_data** - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–ª—é—á–µ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
- **test_client_creation_error** - –æ—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞

#### 3. **TestAsyncSyncAllOrders** - —Ç–µ—Å—Ç—ã –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –≤—Å–µ—Ö –æ—Ä–¥–µ—Ä–æ–≤
- **test_no_pending_orders** - –Ω–µ—Ç pending –æ—Ä–¥–µ—Ä–æ–≤
- **test_group_orders_by_account** - –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –æ—Ä–¥–µ—Ä–æ–≤ –ø–æ –∞–∫–∫–∞—É–Ω—Ç–∞–º
- **test_skip_failed_proxy** - –ø—Ä–æ–ø—É—Å–∫ –∞–∫–∫–∞—É–Ω—Ç–æ–≤ —Å failed proxy
- **test_multiple_accounts** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤
- **test_full_sync_cycle_success** - –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å —É—Å–ø–µ—à–Ω–æ–π –æ—Ç–º–µ–Ω–æ–π –∏ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ–º
- **test_sync_cancellation_failure** - –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–º–µ–Ω–µ –æ—Ä–¥–µ—Ä–∞, —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è
- **test_sync_placement_failure** - –æ—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–∞–∑–º–µ—â–µ–Ω–∏–∏ –æ—Ä–¥–µ—Ä–∞, –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ

#### 4. **TestCancellationErrorNotification** - —Ç–µ—Å—Ç—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ–± –æ—à–∏–±–∫–∞—Ö –æ—Ç–º–µ–Ω—ã
- **test_send_notification_single_order** - –æ—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è –æ–¥–Ω–æ–≥–æ –æ—Ä–¥–µ—Ä–∞
- **test_send_notification_multiple_orders** - –æ—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –æ—Ä–¥–µ—Ä–æ–≤
- **test_empty_failed_orders_list** - –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ –Ω–µ—É–¥–∞—á–Ω—ã—Ö –æ—Ç–º–µ–Ω
- **test_missing_fields_in_failed_order** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö –ø–æ–ª–µ–π
- **test_send_notification_error_handling** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

#### 5. **TestOrderPlacementErrorNotification** - —Ç–µ—Å—Ç—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ–± –æ—à–∏–±–∫–∞—Ö —Ä–∞–∑–º–µ—â–µ–Ω–∏—è
- **test_send_notification_buy_order** - –æ—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è BUY –æ—Ä–¥–µ—Ä–∞
- **test_send_notification_sell_order** - –æ—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è SELL –æ—Ä–¥–µ—Ä–∞
- **test_send_notification_missing_fields** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö –ø–æ–ª–µ–π
- **test_send_notification_error_handling** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

#### 6. **TestOrderFilledNotification** - —Ç–µ—Å—Ç—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ–± –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–∏ –æ—Ä–¥–µ—Ä–æ–≤
- **test_send_notification_buy_order** - –æ—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è BUY –æ—Ä–¥–µ—Ä–∞
- **test_send_notification_sell_order** - –æ—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è SELL –æ—Ä–¥–µ—Ä–∞
- **test_send_notification_missing_fields** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö –ø–æ–ª–µ–π
- **test_send_notification_error_handling** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

## –ü–æ–∫—Ä—ã—Ç–∏–µ –∫–µ–π—Å–æ–≤

### ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫–∏
- –û—Ä–¥–µ—Ä –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ —Å–ø–∏—Å–∫–∏ –¥–ª—è –æ—Ç–º–µ–Ω—ã –∏ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –æ—Ä–¥–µ—Ä –±—É–¥–µ—Ç –ø–µ—Ä–µ—Å—Ç–∞–≤–ª–µ–Ω
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏—Ç `will_reposition: True`
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–æ–≤–æ–≥–æ –æ—Ä–¥–µ—Ä–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã (—Ü–µ–Ω–∞, amount, side)
- –°–≤—è–∑—å –º–µ–∂–¥—É —Å—Ç–∞—Ä—ã–º –∏ –Ω–æ–≤—ã–º –æ—Ä–¥–µ—Ä–æ–º —á–µ—Ä–µ–∑ `old_order_id`

### ‚è∏Ô∏è –ò–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ
- –û—Ä–¥–µ—Ä –ù–ï –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ —Å–ø–∏—Å–∫–∏ –¥–ª—è –æ—Ç–º–µ–Ω—ã/—Ä–∞–∑–º–µ—â–µ–Ω–∏—è
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ù–ï —Å–æ–∑–¥–∞–µ—Ç—Å—è (–∏–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫–∏)
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è –¥–ª—è –¥—Ä—É–≥–∏—Ö –æ—Ä–¥–µ—Ä–æ–≤

### üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –æ—Ä–¥–µ—Ä–∞ —á–µ—Ä–µ–∑ API
- –û—Ä–¥–µ—Ä —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `finished`: –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ë–î, –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–∏
- –û—Ä–¥–µ—Ä —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `canceled`: –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ë–î, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ù–ï –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è
- –¢–∞–π–º–∞—É—Ç –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ —Å—Ç–∞—Ç—É—Å–∞: –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è (graceful degradation)

### üì® –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–º–µ—â–µ–Ω–∏–∏ —Ü–µ–Ω—ã –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –¢–û–õ–¨–ö–û –∫–æ–≥–¥–∞ –æ—Ä–¥–µ—Ä –±—É–¥–µ—Ç –ø–µ—Ä–µ—Å—Ç–∞–≤–ª–µ–Ω
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å–æ–¥–µ—Ä–∂–∞—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–æ–ª—è (—Ü–µ–Ω—ã, –∏–∑–º–µ–Ω–µ–Ω–∏—è, –ø–æ—Ä–æ–≥–∏)
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –æ—Ç–º–µ–Ω—ã –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –ø—Ä–∏ –Ω–µ—É–¥–∞—á–Ω–æ–π –æ—Ç–º–µ–Ω–µ
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –ø—Ä–∏ –Ω–µ—É–¥–∞—á–Ω–æ–º —Ä–∞–∑–º–µ—â–µ–Ω–∏–∏
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –ø—Ä–∏ —Å—Ç–∞—Ç—É—Å–µ `finished`

### üîÑ –ü–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ—Ä–¥–µ—Ä–æ–≤
- –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Å–ø–∏—Å–∫–∏ –¥–ª—è –æ—Ç–º–µ–Ω—ã (—Ç–æ–ª—å–∫–æ –æ—Ä–¥–µ—Ä–∞ —Å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–º –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º)
- –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –æ—Ä–¥–µ—Ä–æ–≤
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –æ—Ä–¥–µ—Ä–æ–≤ (—Å–º–µ—à–∞–Ω–Ω—ã–µ —Å–ª—É—á–∞–∏)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏ —Å–ø–∏—Å–∫–æ–≤ (–¥–ª–∏–Ω–∞ –¥–æ–ª–∂–Ω–∞ —Å–æ–≤–ø–∞–¥–∞—Ç—å)

### üîê –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞: –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –ø—É—Å—Ç—ã–µ —Å–ø–∏—Å–∫–∏
- –û—à–∏–±–∫–∞ –æ—Ç–º–µ–Ω—ã –æ—Ä–¥–µ—Ä–∞: —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è, –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
- –û—à–∏–±–∫–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –æ—Ä–¥–µ—Ä–∞: –ë–î –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è, –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
- –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è: –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è gracefully

### üë• –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∞–∫–∫–∞—É–Ω—Ç–æ–≤
- –û—Ä–¥–µ—Ä–∞ –≥—Ä—É–ø–ø–∏—Ä—É—é—Ç—Å—è –ø–æ –∞–∫–∫–∞—É–Ω—Ç–∞–º
- –ê–∫–∫–∞—É–Ω—Ç—ã —Å `failed` proxy –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è
- –ù–µ—Å–∫–æ–ª—å–∫–æ –∞–∫–∫–∞—É–Ω—Ç–æ–≤ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ
- –ö–∞–∂–¥—ã–π –∞–∫–∫–∞—É–Ω—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è —Å–æ —Å–≤–æ–∏–º –∫–ª–∏–µ–Ω—Ç–æ–º

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### pytest.ini
- `asyncio_mode = auto` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∂–∏–º –¥–ª—è async —Ç–µ—Å—Ç–æ–≤
- `asyncio_default_fixture_loop_scope = function` - scope –¥–ª—è event loop
- –ü–æ–¥–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π –æ deprecated websockets.legacy

### conftest.py
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—É—Ç–µ–π –∏–º–ø–æ—Ä—Ç–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–º–∏ –∏–º–ø–æ—Ä—Ç–∞–º–∏ –∏–∑ `bot/`
- –ú–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ `setup_proxy` –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –ø—Ä–æ–±–ª–µ–º –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ –º–æ–¥—É–ª–µ–π

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

- `pytest==9.0.2` - —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- `pytest-asyncio==1.3.0` - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ async —Ç–µ—Å—Ç–æ–≤

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –í—Å–µ —Ç–µ—Å—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –º–æ–∫–∏ –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏ –æ—Ç –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (API, –ë–î, bot)
- –¢–µ—Å—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É, –∞ –Ω–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –¢–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç –∫–∞–∫ —É—Å–ø–µ—à–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏, —Ç–∞–∫ –∏ –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫

